{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file://C%3A/project/frontend/app/signup/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Eye, EyeOff } from \"lucide-react\";\r\n\r\nexport default function SignUpPage() {\r\n  const [form, setForm] = useState({\r\n    fullName: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    phone: \"\",\r\n  });\r\n\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => setIsScrolled(window.scrollY > 10);\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, []);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const validatePassword = (password: string) => {\r\n    const minLength = 6;\r\n    const specialChars = /[!@#$%^&*(),.?\":{}|<>]/g;\r\n    const letters = /[a-zA-Z]/g;\r\n\r\n    if (password.length < minLength) {\r\n      return `Password must be at least ${minLength} characters.`;\r\n    }\r\n    if (!specialChars.test(password)) {\r\n      return \"Password must contain at least one special character.\";\r\n    }\r\n    if (!letters.test(password)) {\r\n      return \"Password must contain at least one letter.\";\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  const validateEmail = (email: string) => {\r\n    const regex = /\\S+@\\S+\\.\\S+/;\r\n    return regex.test(email) ? \"\" : \"Please enter a valid email.\";\r\n  };\r\n\r\n  const validateConfirmPassword = () => {\r\n    return form.password !== form.confirmPassword ? \"Passwords do not match.\" : \"\";\r\n  };\r\n\r\n  const validatePhone = (phone: string) => {\r\n    const regex = /^[67]\\d{8}$/;\r\n    return regex.test(phone)\r\n      ? \"\"\r\n      : \"Enter a valid phone number.\";\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const passwordError = validatePassword(form.password);\r\n    const emailError = validateEmail(form.email);\r\n    const confirmPasswordError = validateConfirmPassword();\r\n    const phoneError = validatePhone(form.phone);\r\n\r\n    if (passwordError || emailError || confirmPasswordError || phoneError) {\r\n      setErrors({\r\n        email: emailError,\r\n        password: passwordError,\r\n        confirmPassword: confirmPasswordError,\r\n        phone: phoneError,\r\n      });\r\n      return;\r\n    }\r\n\r\n    setErrors({ email: \"\", password: \"\", confirmPassword: \"\", phone: \"\" });\r\n\r\n    try {\r\n      const formattedForm = {\r\n        ...form,\r\n        phone: \"+255\" + form.phone,\r\n      };\r\n\r\n      const response = await fetch(\"http://localhost:5000/api/signup\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(formattedForm),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok) {\r\n        console.log(\"Signup successful:\", result);\r\n        window.location.href = \"/login\";\r\n      } else {\r\n        setErrors({\r\n          email: result.error || \"An error occurred. Please try again.\",\r\n          password: \"\",\r\n          confirmPassword: \"\",\r\n          phone: \"\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during signup:\", error);\r\n      setErrors({\r\n        email: \"Failed to connect to server.\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        phone: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen flex flex-col items-center bg-gray-50 overflow-hidden\">\r\n      {/* Navbar */}\r\n      <nav\r\n        className={`fixed top-0 left-0 w-full z-50 flex items-center justify-between px-6 transition-all duration-300 shadow-md ${\r\n          isScrolled ? \"bg-blue-700 py-3\" : \"bg-blue-600 py-3\"\r\n        }`}\r\n      >\r\n        <div className=\"flex items-center space-x-4\">\r\n          <div className=\"w-10 h-10 flex items-center justify-center rounded-full bg-white\">\r\n            <span className=\"text-blue-600 text-7xl font-bold leading-none\">+</span>\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold text-white\">MASS</h1>\r\n        </div>\r\n        <div className=\"space-x-6\">\r\n          <Link href=\"/\" className=\"text-white font-medium\">\r\n            Home\r\n          </Link>\r\n          <Link href=\"/login\" className=\"text-white font-medium\">\r\n            Login\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Sign Up Form */}\r\n      <section className=\"flex-1 flex flex-col justify-center items-center w-full px-4\">\r\n        <div className=\"bg-white p-8 rounded-xl shadow-lg w-full max-w-md mt-32 mb-10\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-6 text-center\">Sign Up</h2>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n            <FormInput label=\"Full Name\" name=\"fullName\" value={form.fullName} onChange={handleChange} />\r\n            <FormInput label=\"Email\" name=\"email\" type=\"email\" value={form.email} onChange={handleChange} error={errors.email} />\r\n            <FormPhoneNumber label=\"Phone Number\" name=\"phone\" value={form.phone} onChange={handleChange} error={errors.phone} />\r\n            <FormInput\r\n              label=\"Password\"\r\n              name=\"password\"\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              value={form.password}\r\n              onChange={handleChange}\r\n              error={errors.password}\r\n              showToggle\r\n              toggleVisibility={() => setShowPassword(!showPassword)}\r\n              visible={showPassword}\r\n            />\r\n            <FormInput\r\n              label=\"Confirm Password\"\r\n              name=\"confirmPassword\"\r\n              type={showConfirmPassword ? \"text\" : \"password\"}\r\n              value={form.confirmPassword}\r\n              onChange={handleChange}\r\n              error={errors.confirmPassword}\r\n              showToggle\r\n              toggleVisibility={() => setShowConfirmPassword(!showConfirmPassword)}\r\n              visible={showConfirmPassword}\r\n            />\r\n\r\n            <button type=\"submit\" className=\"w-full bg-blue-500 text-white font-semibold py-3 rounded-lg hover:bg-blue-600 transition\">\r\n              Sign Up\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nfunction FormInput({\r\n  label,\r\n  name,\r\n  value,\r\n  onChange,\r\n  type = \"text\",\r\n  error = \"\",\r\n  showToggle = false,\r\n  toggleVisibility = () => {},\r\n  visible = false,\r\n}: {\r\n  label: string;\r\n  name: string;\r\n  value: string;\r\n  onChange: any;\r\n  type?: string;\r\n  error?: string;\r\n  showToggle?: boolean;\r\n  toggleVisibility?: () => void;\r\n  visible?: boolean;\r\n}) {\r\n  return (\r\n    <div className=\"relative\">\r\n      <label className=\"block text-gray-700 font-medium mb-2\">{label}</label>\r\n      <input\r\n        type={type}\r\n        name={name}\r\n        value={value}\r\n        onChange={onChange}\r\n        className=\"w-full border border-gray-300 rounded-lg p-3 pr-12 focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n        required\r\n      />\r\n      {showToggle && (\r\n        <span className=\"absolute right-3 top-[43px] cursor-pointer text-gray-500\" onClick={toggleVisibility}>\r\n          {visible ? <EyeOff size={20} /> : <Eye size={20} />}\r\n        </span>\r\n      )}\r\n      {error && <p className=\"text-red-500 text-sm mt-1\">{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FormPhoneNumber({\r\n  label,\r\n  name,\r\n  value,\r\n  onChange,\r\n  error = \"\",\r\n}: {\r\n  label: string;\r\n  name: string;\r\n  value: string;\r\n  onChange: any;\r\n  error?: string;\r\n}) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-gray-700 font-medium mb-2\">{label}</label>\r\n      <div className=\"flex items-center border border-gray-300 rounded-lg overflow-hidden\">\r\n        <div className=\"flex items-center px-3 bg-gray-100\">\r\n   \r\n          <span className=\"text-gray-700\">+255</span>\r\n        </div>\r\n        <input\r\n          type=\"tel\"\r\n          name={name}\r\n          value={value}\r\n          onChange={(e) => {\r\n            const raw = e.target.value.replace(/\\D/g, \"\");\r\n            if (raw.length <= 9) {\r\n              onChange({ target: { name, value: raw } });\r\n            }\r\n          }}\r\n         \r\n          className=\"flex-1 p-3 focus:outline-none\"\r\n          required\r\n        />\r\n      </div>\r\n      {error && <p className=\"text-red-500 text-sm mt-1\">{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}