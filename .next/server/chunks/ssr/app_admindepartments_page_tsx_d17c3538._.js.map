{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/project/frontend/app/admindepartments/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function AdminDepartments() {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [departments, setDepartments] = useState([]);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [newDept, setNewDept] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const saved = JSON.parse(localStorage.getItem(\"departments\"));\r\n    if (saved?.length) {\r\n      setDepartments(saved);\r\n    } else {\r\n      const defaults = [\r\n        { name: \"Cardiology\", appointments: 24 },\r\n        { name: \"Dermatology\", appointments: 18 },\r\n        { name: \"Neurology\", appointments: 3 },\r\n      ];\r\n      setDepartments(defaults);\r\n      localStorage.setItem(\"departments\", JSON.stringify(defaults));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"departments\", JSON.stringify(departments));\r\n  }, [departments]);\r\n\r\n  const handleAddDepartment = () => {\r\n    const name = newDept.trim();\r\n    if (!name) return;\r\n    if (departments.some((d) => d.name.toLowerCase() === name.toLowerCase())) {\r\n      alert(\"Department already exists!\");\r\n      return;\r\n    }\r\n    const updated = [...departments, { name, appointments: 0 }];\r\n    setDepartments(updated);\r\n    setNewDept(\"\");\r\n    setShowModal(false);\r\n  };\r\n\r\n  const filteredDepartments = departments.filter((d) =>\r\n    d.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-4 relative\">\r\n      <h2 className=\"text-2xl font-bold mb-4 text-gray-800 flex items-center gap-2\">\r\n        Departments\r\n      </h2>\r\n\r\n      <div className=\"flex justify-between items-center mb-3\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"🔍 Search...\"\r\n          className=\"p-2 text-sm border border-gray-300 rounded-md w-2/3\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <button\r\n          onClick={() => setShowModal(true)}\r\n          className=\"ml-3 px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n        >\r\n        Add Department\r\n        </button>\r\n      </div>\r\n\r\n      <table className=\"w-full bg-white rounded-xl shadow overflow-hidden table-fixed text-sm\">\r\n        <thead className=\"bg-gray-100 text-left\">\r\n          <tr>\r\n            <th className=\"p-3 w-1/2\">Department</th>\r\n            <th className=\"p-3 w-1/2\">Appointments Handled</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredDepartments.map((department, index) => (\r\n            <tr key={index} className=\"border-b\">\r\n              <td className=\"p-3 truncate max-w-xs\">{department.name}</td>\r\n              <td className=\"p-3\">{department.appointments}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* Modal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg shadow-lg p-5 w-full max-w-sm\">\r\n            <h3 className=\"text-lg font-semibold mb-3 text-gray-800\">Add Department</h3>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter name\"\r\n              className=\"w-full p-2 text-sm border border-gray-300 rounded-md mb-4\"\r\n              value={newDept}\r\n              onChange={(e) => setNewDept(e.target.value)}\r\n            />\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button\r\n                onClick={() => setShowModal(false)}\r\n                className=\"px-3 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleAddDepartment}\r\n                className=\"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n              >\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;QAC9C,IAAI,OAAO,QAAQ;YACjB,eAAe;QACjB,OAAO;YACL,MAAM,WAAW;gBACf;oBAAE,MAAM;oBAAc,cAAc;gBAAG;gBACvC;oBAAE,MAAM;oBAAe,cAAc;gBAAG;gBACxC;oBAAE,MAAM;oBAAa,cAAc;gBAAE;aACtC;YACD,eAAe;YACf,aAAa,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;QACrD;IACF,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa,OAAO,CAAC,eAAe,KAAK,SAAS,CAAC;IACrD,GAAG;QAAC;KAAY;IAEhB,MAAM,sBAAsB;QAC1B,MAAM,OAAO,QAAQ,IAAI;QACzB,IAAI,CAAC,MAAM;QACX,IAAI,YAAY,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,CAAC,WAAW,OAAO,KAAK,WAAW,KAAK;YACxE,MAAM;YACN;QACF;QACA,MAAM,UAAU;eAAI;YAAa;gBAAE;gBAAM,cAAc;YAAE;SAAE;QAC3D,eAAe;QACf,WAAW;QACX,aAAa;IACf;IAEA,MAAM,sBAAsB,YAAY,MAAM,CAAC,CAAC,IAC9C,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;IAGtD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAgE;;;;;;0BAI9E,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;kCAE/C,8OAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAU;kCACX;;;;;;;;;;;;0BAKH,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAY;;;;;;8CAC1B,8OAAC;oCAAG,WAAU;8CAAY;;;;;;;;;;;;;;;;;kCAG9B,8OAAC;kCACE,oBAAoB,GAAG,CAAC,CAAC,YAAY,sBACpC,8OAAC;gCAAe,WAAU;;kDACxB,8OAAC;wCAAG,WAAU;kDAAyB,WAAW,IAAI;;;;;;kDACtD,8OAAC;wCAAG,WAAU;kDAAO,WAAW,YAAY;;;;;;;+BAFrC;;;;;;;;;;;;;;;;YASd,2BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,8OAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;4BACV,OAAO;4BACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;sCAE5C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf","debugId":null}}]
}